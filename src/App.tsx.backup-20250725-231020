import React from "react";
import { Route, Switch } from "wouter";
import { AuthProvider } from "@/hooks/useAuth";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { Toaster } from "@/components/ui/toaster";

// Import all your existing pages
import Home from "@/pages/Home";
import Dashboard from "@/pages/Dashboard";
import Categories from "@/pages/Categories";
import Marketing from "@/pages/Marketing";
import ProductDevelopment from "@/pages/ProductDevelopment";
import FinancialPlanning from "@/pages/FinancialPlanning";
import Education from "@/pages/Education";
import PersonalDevelopment from "@/pages/PersonalDevelopment";
import Generation from "@/pages/Generation";
import Templates from "@/pages/Templates";
import Analytics from "@/pages/Analytics";
import Teams from "@/pages/Teams";
import Billing from "@/pages/Billing";
import SignIn from "@/pages/SignIn";
import Register from "@/pages/Register";
import Demo from "@/pages/Demo";
import Documentation from "@/pages/Documentation";
import TestSelect from "@/pages/TestSelect";
import AdminDashboard from "@/pages/AdminDashboard";
import Questionnaire from "./Questionnaire";

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60 * 5,
      refetchOnWindowFocus: false,
    },
  },
});

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <AuthProvider>
        <div className="min-h-screen bg-slate-50">
          <Switch>
            {/* Main Pages */}
            <Route path="/" component={Home} />
            <Route path="/dashboard" component={Dashboard} />
            <Route path="/categories" component={Categories} />
            
            {/* Category Pages */}
            <Route path="/marketing" component={Marketing} />
            <Route path="/product-development" component={ProductDevelopment} />
            <Route path="/financial-planning" component={FinancialPlanning} />
            <Route path="/education" component={Education} />
            <Route path="/personal-development" component={PersonalDevelopment} />
            
            {/* Core Features */}
            <Route path="/generation" component={Generation} />
            <Route path="/templates" component={Templates} />
            <Route path="/analytics" component={Analytics} />
            <Route path="/teams" component={Teams} />
            
            {/* Questionnaires */}
            <Route path="/questionnaire/:category">
              <Questionnaire />
            </Route>
            
            {/* Auth & Account */}
            <Route path="/signin" component={SignIn} />
            <Route path="/register" component={Register} />
            <Route path="/billing" component={Billing} />
            
            {/* Admin & Dev */}
            <Route path="/admin" component={AdminDashboard} />
            <Route path="/demo" component={Demo} />
            <Route path="/docs" component={Documentation} />
            <Route path="/test-select" component={TestSelect} />
            
            {/* 404 */}
            <Route>
              <div className="max-w-4xl mx-auto py-16 px-4 text-center">
                <h1 className="text-3xl font-bold text-slate-900 mb-4">
                  404 - Page Not Found
                </h1>
                <p className="text-slate-600 mb-6">
                  The page you're looking for doesn't exist.
                </p>
                <a 
                  href="/" 
                  className="inline-block px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                >
                  Go Home
                </a>
              </div>
            </Route>
          </Switch>
          
          <Toaster />
        </div>
      </AuthProvider>
    </QueryClientProvider>
  );
}
